execute @p[tag=victim, scores={invincible=0, shield=0}] ~ ~ ~ execute @a[tag=attacker] ~ ~ ~ function damage/execute_damage
execute @p[tag=victim, scores={invincible=0, shield=1..}] ~ ~ ~ execute @a[tag=attacker] ~ ~ ~ function damage/check_shield